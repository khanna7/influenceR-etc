SNAP = snap-0.4
PKG_CFLAGS = $(SHLIB_OPENMP_CFLAGS) -I$(SNAP)/include @USE_MPI@

PKG_LIBS = @PKG_LIBS_MPI@ $(SHLIB_OPENMP_CFLAGS) $(SNAP)/lib/.libs/libsnap.a

.PHONY: all snap

all: $(SHLIB)
$(SHLIB): snap

SNAP_CFLAGS = $(SNAP_OPENMP) CC="$(CC)" LIBS=@LRT_LIBS@

snap:
	(cd snap-0.4 \
	if [ -z "$(SHLIB_OPENMP_CFLAGS)" ] \
	then \
		./configure $(SNAP_CFLAGS) \
	else \
		./configure --enable-openmp $(SNAP_CFLAGS) \
	fi \
	make)


